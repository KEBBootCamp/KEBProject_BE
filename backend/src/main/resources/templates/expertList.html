<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Show Inspection Details</title>
    <script>
        function sendPostRequest(userId) {
            console.log("sendPostRequest called with userId:", userId);

            var url = '/expert/expertDetails';

            var form = document.createElement('form');
            form.method = 'POST';
            form.action = url;

            var inputUserId = document.createElement('input');
            inputUserId.type = 'hidden';
            inputUserId.name = 'userId';
            inputUserId.value = userId;
            form.appendChild(inputUserId);

            var inputCustomerId = document.createElement('input');
            inputCustomerId.type = 'hidden';
            inputCustomerId.name = 'customerId';
            inputCustomerId.value = document.getElementById('customerId').innerText;
            form.appendChild(inputCustomerId);

            var inputModel = document.createElement('input');
            inputModel.type = 'hidden';
            inputModel.name = 'model';
            inputModel.value = document.getElementById('model').innerText;
            form.appendChild(inputModel);

            var inputBrand = document.createElement('input');
            inputBrand.type = 'hidden';
            inputBrand.name = 'brand';
            inputBrand.value = document.getElementById('brand').innerText;
            form.appendChild(inputBrand);

            var inputPlace = document.createElement('input');
            inputPlace.type = 'hidden';
            inputPlace.name = 'place';
            inputPlace.value = document.getElementById('place').innerText;
            form.appendChild(inputPlace);

            var inputDate = document.createElement('input');
            inputDate.type = 'hidden';
            inputDate.name = 'inspectDateTime';
            inputDate.value = document.getElementById('date').innerText;
            form.appendChild(inputDate);

            document.body.appendChild(form);
            form.submit();
        }
    </script>
</head>
<body>
<h2>검수 정보</h2>
<ul>
    <li>Customer ID: <span id="customerId" th:text="${inspectionDTO.customerId}"></span></li>
    <li>Model: <span id="model" th:text="${inspectionDTO.model}"></span></li>
    <li>Brand: <span id="brand" th:text="${inspectionDTO.brand}"></span></li>
    <li>Place: <span id="place" th:text="${inspectionDTO.place}"></span></li>
    <li>Date: <span id="date" th:text="${inspectionDTO.inspectDate}"></span></li>
</ul>
<br>
<table>
    <tr>
        <th>Expert ID</th>
        <th>Name</th>
    </tr>
    <tr th:each="expert : ${expertDto}">
        <td>
            <a href="#" onclick="sendPostRequest(this.getAttribute('data-user-id')); return false;" th:attr="data-user-id=${expert.userId}">
                <span th:text="${expert.userId}"></span>
            </a>
        </td>
        <td th:text="${expert.userName}"></td>
    </tr>
</table>
</body>
</html>
